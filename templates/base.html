<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../static/style.css">
    <link rel="icon" type="image/x-icon" href="/static/img/images.png">
    <title>Blog Bitcoineia</title>
</head>
<body>
    <header>
    <div class="logo">
        <img src="../static/img/images.png" alt="" href="/index">
        <h1>Meu Blog</h1>
    </div>
    
    <!-- Menu de Navegação -->
    <nav class="nav-menu">
        <ul class="nav-links">
            {% if 'user' in session or 'admin' in session  %}
                {% if 'admin' in session %}
                    <a href="/" class="nav-link">Início</a>
                    <a href="/dashboard" class="nav-link">Área ADM</a>
                {% endif %}
                {% if 'user' in session and not 'admin' in session %}
                    <a href="/" class="nav-link">Início</a>  
                    <a href="/perfil" class="nav-link">Perfil</a>
                {% endif %}
            <a href="/logout" class="login-button">Sair</a>
            {% else %}
            <a href="/login" class="login-button">Entrar</a>
            {% endif %}
        </ul>

        <!-- Menu Mobile -->
        <div class="mobile-menu">
            <span class="hamburger"></span>
            <span class="hamburger"></span>
            <span class="hamburger"></span>
        </div>
    </nav>
    </header>
    
    <main>
        {% block conteudo %}{% endblock %} 
    </main>
    
    <footer>
        <p>Meu Blog - Feito com Flask</p>
    </footer>

    <script>
// Aguardar o DOM carregar completamente
document.addEventListener('DOMContentLoaded', function() {
    const mobileMenu = document.querySelector('.mobile-menu');
    const navLinks = document.querySelector('.nav-links');
    
    // Verificar se os elementos existem (para evitar erros)
    if (mobileMenu && navLinks) {
        mobileMenu.addEventListener('click', function() {
            mobileMenu.classList.toggle('active');
            navLinks.classList.toggle('active');
            
            // Prevenir scroll do body quando menu estiver aberto
            document.body.style.overflow = navLinks.classList.contains('active') ? 'hidden' : '';
        });

        // Fechar menu ao clicar em um link
        document.querySelectorAll('.nav-link').forEach(link => {
            link.addEventListener('click', () => {
                mobileMenu.classList.remove('active');
                navLinks.classList.remove('active');
                document.body.style.overflow = ''; // Restaurar scroll
            });
        });

        // Fechar menu ao clicar fora (opcional)
        document.addEventListener('click', function(event) {
            if (!event.target.closest('.nav-menu') && navLinks.classList.contains('active')) {
                mobileMenu.classList.remove('active');
                navLinks.classList.remove('active');
                document.body.style.overflow = '';
            }
        });
    }

    // Destacar link ativo
    const currentPage = window.location.pathname;
    document.querySelectorAll('.nav-link').forEach(link => {
        if (link.getAttribute('href') === currentPage) {
            link.classList.add('active');
        }
    });
});
</script>
</body>
</html>